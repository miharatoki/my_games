<div class='container users-show'>
  <div class='row mb-5'>
    <div class='col-12 col-sm-8 mt-3 '>
      <!--プロフィール-->
      <div class='col-12 d-flex flex-wrap profile'>
        <div class='col-7 profile-title'>
         <h5 class='mb-0'>
           <strong><%= t '.profile_title' %></strong>
          </h5>
        </div>
        <!--プロフィール編集へのリンク-->
        <div class='col-5 text-right edit-link'>
          <% if @user == current_user %>
            <%= link_to (t '.edit'), edit_user_path(current_user.id) %>
            user_follow_page_path
          <% else %>
            <div id='relationships-btn'>
              <%= render 'relationships/relationships_btn', user: @user %>
            </div>
          <% end %>
        </div>
        <!--プロフィール画像とユーザー名-->
        <div class='col-12 col-sm-4 my-2 text-center user-image-name'>
          <%= attachment_image_tag @user, :profile_image, format: 'jpeg', fallback: 'no_image.jpg', size: '70x70' %>
          <div class='user-name'>
            <%= @user.name %>
          </div>
        </div>
        <!--イントロダクション-->
        <div class='col-12 col-sm-8 my-2 px-0 user-introduction-field'>
          <div class='p-2 text-break introduction'>
            <!--プロフィール文を設定していなかったら何も表示しない-->
            <% begin %>
              <%= safe_join(@user.introduction.split("\n"), tag(:br)) %>
            <% rescue %>
              <span><%= t '.none_introduction' %></span>
            <% end %>
          </div>
        </div>
      </div>
    </div>
    <!--検索要素-->
    <div class='col-7 offset-5 col-sm-3 offset-sm-1 my-2 sort-serach'>
      <%= render 'shared/sort_search', user: @user %>
    </div>
  </div>
  <!--ユーザの記録が一つもなかったら-->
  <% if no_posts?(@user) %>
    <div class='row no-posts-row d-flex align-items-center justify-content-center'>
      <div class='col-lg-12 col-md-12 col-12 text-center my-3 h3 no-posts'>
        <% if current_user == @user %>
          <%= t '.my_no_posts' %>
        <% else %>
          <%= t '.othger_user_no_posts' %>
        <% end %>
      </div>
    </div>
  <% else %>
    <!--パラメーターのacitonがshowだった場合-->
    <% if params[:action] == 'show' %>
      <div class='row mt-3 mb-5'>
        <%= render 'posts/index', posts: @posts %>
      </div>
    <!--パラメータのacitonがgenre_searchだった場合-->
    <% elsif params[:action] == 'genre_search' %>
      <%= render 'shared/genre_search', user: @user, posts: @posts %>
    <!--パラメーターのactionがtitle_searchだった場合-->
    <% elsif params[:action] == 'title_search' %>
      <%= render 'shared/title_search' , user: @user, posts: @posts %>
    <% end %>
  <% end %>
</div>